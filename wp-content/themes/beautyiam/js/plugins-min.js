// usage: log('inside coolFunc', this, arguments);
// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
window.log=function(){log.history=log.history||[];log.history.push(arguments);arguments.callee=arguments.callee.caller;this.console&&console.log(Array.prototype.slice.call(arguments))};(function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;r=n.pop();)e[r]=e[r]||t})(window.console=window.console||{});!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.typeahead.defaults,n);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=e(this.options.menu);this.shown=!1;this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(e)).change();return this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show();this.shown=!0;return this},hide:function(){this.$menu.hide();this.shown=!1;return this},lookup:function(t){var n;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength)return this.shown?this.hide():this;n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source;return n?this.process(n):this},process:function(t){var n=this;t=e.grep(t,function(e){return n.matcher(e)});t=this.sorter(t);return t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;t=e(t).map(function(t,r){t=e(n.options.item).attr("data-value",r);t.find("a").html(n.highlighter(r));return t[0]});t.first().addClass("active");this.$menu.html(t);return this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0]));r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last());n.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this));this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this));this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;if(!t){this.$element.setAttribute(e,"return;");t=typeof this.$element[e]=="function"}return t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault();this.prev();break;case 40:e.preventDefault();this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]);this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation();e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1;!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation();e.preventDefault();this.select();this.$element.focus()},mouseenter:function(t){this.mousedover=!0;this.$menu.find(".active").removeClass("active");e(t.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1;!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};e.fn.typeahead.Constructor=t;e.fn.typeahead.noConflict=function(){e.fn.typeahead=n;return this};e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;n.typeahead(n.data())})}(window.jQuery);!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n);this.$scrollElement=i.on("scroll.scroll-spy.data-api",r);this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=e("body");this.refresh();this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]);this.targets=e([]);n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t;e(this.selector).parent(".active").removeClass("active");r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';n=e(r).parent("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active"));n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.scrollspy.Constructor=t;e.fn.scrollspy.defaults={offset:10};e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=n;return this};e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text";r.resetText||n.data("resetText",n[i]());n[i](r[e]||this.options[e]);setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)};t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active");this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s));n=="toggle"?i.toggle():n&&i.setState(n)})};e.fn.button.defaults={loadingText:"loading..."};e.fn.button.Constructor=t;e.fn.button.noConflict=function(){e.fn.button=n;return this};e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn"));n.button("toggle")})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.collapse.defaults,n);this.options.parent&&(this.$parent=e(this.options.parent));this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension();n=e.camelCase(["scroll",t].join("-"));r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide");i||r.data("collapse",null)}this.$element[t](0);this.transition("addClass",e.Event("show"),"shown");e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension();this.reset(this.$element[t]());this.transition("removeClass",e.Event("hide"),"hidden");this.$element[t](0)},reset:function(e){var t=this.dimension();this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth;this.$element[e!==null?"addClass":"removeClass"]("collapse");return this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset();i.transitioning=0;i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1;this.$element[t]("in");e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=e.extend({},e.fn.collapse.defaults,r.data(),typeof n=="object"&&n);i||r.data("collapse",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.collapse.defaults={toggle:!0};e.fn.collapse.Constructor=t;e.fn.collapse.noConflict=function(){e.fn.collapse=n;return this};e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed");e(i).collapse(s)})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=n;this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){t||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),r=this;if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){r.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){t||(this.paused=!0);if(this.$element.find(".next, .prev").length&&e.support.transition.end){this.$element.trigger(e.support.transition.end);this.cycle()}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f;this.sliding=!0;s&&this.pause();i=i.length?i:this.$element.find(".item")[u]();f=e.Event("slide",{relatedTarget:i[0],direction:o});if(i.hasClass("active"))return;if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")})}if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t);i[0].offsetWidth;r.addClass(o);i.addClass(o);this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active");r.removeClass(["active",o].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active");i.addClass("active");this.sliding=!1;this.$element.trigger("slid")}s&&this.cycle();return this}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s));typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})};e.fn.carousel.defaults={interval:5e3,pause:"hover"};e.fn.carousel.Constructor=t;e.fn.carousel.noConflict=function(){e.fn.carousel=n;return this};e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o;i.carousel(s);(o=n.attr("data-slide-to"))&&i.data("carousel").pause().to(o).cycle();t.preventDefault()})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n);this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this));this.$element=e(t);this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i);typeof o=="function"&&(o=i.top());typeof s=="function"&&(s=i.bottom());a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a;this.unpin=a=="bottom"?r.top-n:null;this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.affix.Constructor=t;e.fn.affix.defaults={offset:0};e.fn.affix.noConflict=function(){e.fn.affix=n;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{};n.offsetBottom&&(n.offset.bottom=n.offsetBottom);n.offsetTop&&(n.offset.top=n.offsetTop);t.affix(n)})})}(window.jQuery);(function(e,t,n){function r(e,t,n,r,i,s,o,u,a){var f=!1;o=!0===o&&!0===u;t=t||{};t.original||(t.original={},f=!0);t.properties=t.properties||{};t.secondary=t.secondary||{};u=t.meta;for(var c=t.original,h=t.properties,p=t.secondary,d=l.length-1;0<=d;d--){var v=l[d]+"transition-property",m=l[d]+"transition-duration",g=l[d]+"transition-timing-function";n=o?l[d]+"transform":n;f&&(c[v]=e.css(v)||"",c[m]=e.css(m)||"",c[g]=e.css(g)||"");p[n]=o?!0===a||!0===w&&!1!==a&&b?"translate3d("+u.left+"px, "+u.top+"px, 0)":"translate("+u.left+"px,"+u.top+"px)":s;h[v]=(h[v]?h[v]+",":"")+n;h[m]=(h[m]?h[m]+",":"")+r+"ms";h[g]=(h[g]?h[g]+",":"")+i}return t}function i(e){for(var t in e)return!1;return!0}function s(e){e=e.toUpperCase();var t={LI:"list-item",TR:"table-row",TD:"table-cell",TH:"table-cell",CAPTION:"table-caption",COL:"table-column",COLGROUP:"table-column-group",TFOOT:"table-footer-group",THEAD:"table-header-group",TBODY:"table-row-group"};return"string"==typeof t[e]?t[e]:"block"}function o(e){return parseFloat(e.replace(e.match(/\D+$/),""))}function u(e){var t=!0;e.each(function(e,n){return t=t&&n.ownerDocument});return t}var a="top right bottom left opacity height width".split(" "),f=["top","right","bottom","left"],l=["-webkit-","-moz-","-o-",""],c=["avoidTransforms","useTranslate3d","leaveTransforms"],h=/^([+-]=)?([\d+-.]+)(.*)$/,p=/([A-Z])/g,d={secondary:{},meta:{top:0,right:0,bottom:0,left:0}},v=null,m=!1,g=(document.body||document.documentElement).style,y=void 0!==g.WebkitTransition||void 0!==g.MozTransition||void 0!==g.OTransition||void 0!==g.transition,b="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,w=b;e.expr&&e.expr.filters&&(v=e.expr.filters.animated,e.expr.filters.animated=function(t){return e(t).data("events")&&e(t).data("events")["webkitTransitionEnd oTransitionEnd transitionend"]?!0:v.call(this,t)});e.extend({toggle3DByDefault:function(){return w=!w},toggleDisabledByDefault:function(){return m=!m},setDisabledByDefault:function(e){return m=e}});e.fn.translation=function(){if(!this[0])return null;var e=window.getComputedStyle(this[0],null),t={x:0,y:0};if(e)for(var n=l.length-1;0<=n;n--){var r=e.getPropertyValue(l[n]+"transform");if(r&&/matrix/i.test(r)){e=r.replace(/^matrix\(/i,"").split(/, |\)$/g);t={x:parseInt(e[4],10),y:parseInt(e[5],10)};break}}return t};e.fn.animate=function(n,p,v,g){n=n||{};var b="undefined"==typeof n.bottom&&"undefined"==typeof n.right,w=e.speed(p,v,g),E=this,x=0,N=function(){x--;0===x&&"function"==typeof w.complete&&w.complete.apply(E,arguments)},k;if(!(k=!0===("undefined"!=typeof n.avoidCSSTransitions?n.avoidCSSTransitions:m))&&!(k=!y)&&!(k=i(n))){var L;e:{for(L in n)if(("width"==L||"height"==L)&&("show"==n[L]||"hide"==n[L]||"toggle"==n[L])){L=!0;break e}L=!1}k=L||0>=w.duration}return k?t.apply(this,arguments):this[!0===w.queue?"queue":"each"](function(){var p=e(this),v=e.extend({},w),m=function(t){var r=p.data("jQe")||{original:{}},i={};if(2==t.eventPhase){if(!0!==n.leaveTransforms){for(t=l.length-1;0<=t;t--)i[l[t]+"transform"]="";if(b&&"undefined"!=typeof r.meta){t=0;for(var s;s=f[t];++t)i[s]=r.meta[s+"_o"]+"px",e(this).css(s,i[s])}}p.unbind("webkitTransitionEnd oTransitionEnd transitionend").css(r.original).css(i).data("jQe",null);"hide"===n.opacity&&p.css({display:"none",opacity:""});N.call(this)}},g={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"},y={},g=g[v.easing||"swing"]?g[v.easing||"swing"]:v.easing||"swing",E;for(E in n)if(-1===e.inArray(E,c)){var C=-1<e.inArray(E,f),k,L=p,A=n[E],O=E,_=C&&!0!==n.avoidTransforms;if("d"==O)k=void 0;else if(u(L)){var D=h.exec(A);k="auto"===L.css(O)?0:L.css(O);k="string"==typeof k?o(k):k;"string"==typeof A&&o(A);var _=!0===_?0:k,F=L.is(":hidden"),z=L.translation();"left"==O&&(_=parseInt(k,10)+z.x);"right"==O&&(_=parseInt(k,10)+z.x);"top"==O&&(_=parseInt(k,10)+z.y);"bottom"==O&&(_=parseInt(k,10)+z.y);!D&&"show"==A?(_=1,F&&L.css({display:s(L.context.tagName),opacity:0})):!D&&"hide"==A&&(_=0);D?(L=parseFloat(D[2]),D[1]&&(L=("-="===D[1]?-1:1)*L+parseInt(_,10)),k=L):k=_}else k=void 0;D=E;L=k;A=p;if(u(A)){O=-1<e.inArray(D,a);("width"==D||"height"==D||"opacity"==D)&&parseFloat(L)===parseFloat(A.css(D))&&(O=!1);D=O}else D=!1;if(D){var D=p,L=E,A=v.duration,O=g,C=C&&!0!==n.avoidTransforms,_=b,F=n.useTranslate3d,z=(z=D.data("jQe"))&&!i(z)?z:e.extend(!0,{},d),X=k;if(-1<e.inArray(L,f)){var V=z.meta,$=o(D.css(L))||0,K=L+"_o",X=k-$;V[L]=X;V[K]="auto"==D.css(L)?0+X:$+X||0;z.meta=V;_&&0===X&&(X=0-V[K],V[L]=X,V[K]=0)}D.data("jQe",r(D,z,L,A,O,X,C,_,F))}else y[E]=n[E]}p.unbind("webkitTransitionEnd oTransitionEnd transitionend");if((E=p.data("jQe"))&&!i(E)&&!i(E.secondary)){x++;p.css(E.properties);var Q=E.secondary;setTimeout(function(){p.bind("webkitTransitionEnd oTransitionEnd transitionend",m).css(Q)})}else v.queue=!1;i(y)||(x++,t.apply(p,[y,{duration:v.duration,easing:e.easing[v.easing]?v.easing:e.easing.swing?"swing":"linear",complete:N,queue:v.queue}]));return!0})};e.fn.animate.defaults={};e.fn.stop=function(t,r,s){if(!y)return n.apply(this,[t,r]);t&&this.queue([]);this.each(function(){var o=e(this),u=o.data("jQe");if(u&&!i(u)){var a,f={};if(r){if(f=u.secondary,!s&&void 0!==typeof u.meta.left_o||void 0!==typeof u.meta.top_o){f.left=void 0!==typeof u.meta.left_o?u.meta.left_o:"auto";f.top=void 0!==typeof u.meta.top_o?u.meta.top_o:"auto";for(a=l.length-1;0<=a;a--)f[l[a]+"transform"]=""}}else if(!i(u.secondary)){var c=window.getComputedStyle(o[0],null);if(c)for(var h in u.secondary)if(u.secondary.hasOwnProperty(h)&&(h=h.replace(p,"-$1").toLowerCase(),f[h]=c.getPropertyValue(h),!s&&/matrix/i.test(f[h]))){a=f[h].replace(/^matrix\(/i,"").split(/, |\)$/g);f.left=parseFloat(a[4])+parseFloat(o.css("left"))+"px"||"auto";f.top=parseFloat(a[5])+parseFloat(o.css("top"))+"px"||"auto";for(a=l.length-1;0<=a;a--)f[l[a]+"transform"]=""}}o.unbind("webkitTransitionEnd oTransitionEnd transitionend");o.css(u.original).css(f).data("jQe",null)}else n.apply(o,[t,r])});return this}})(jQuery,jQuery.fn.animate,jQuery.fn.stop);(function(){var e,t,n;n="superslides";e=jQuery;t=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P=this;n==null&&(n={});this.options=e.extend({play:!1,slide_speed:"normal",slide_easing:"linear",pagination:!0,hashchange:!1,scrollable:!0,classes:{preserve:"preserve",nav:"slides-navigation",container:"slides-container",pagination:"slides-pagination"}},n);O=this;u=e(window);this.el=e(t);i=e("."+this.options.classes.container,t);r=i.children();o=e("<nav>",{"class":this.options.classes.pagination});s=e("<div>",{"class":"slides-control"});y=1;v=!1;D=u.width();d=u.height();m=function(){if(v)return;y=p();E();P.mobile=/mobile/i.test(navigator.userAgent);s=i.wrap(s).parent(".slides-control");k();C();M();a();P.start();return P};k=function(){e("body").css({margin:0});P.el.css({position:"relative",overflowX:"hidden",width:"100%"});s.css({position:"relative",transform:"translate3d(0)"});i.css({display:"none",margin:"0",padding:"0",listStyle:"none",position:"relative"});return L()};L=function(){return i.find("img").not("."+P.options.classes.preserve).css({"-webkit-backface-visibility":"hidden","-ms-interpolation-mode":"bicubic",position:"absolute",left:"0",top:"0","z-index":"-1"})};C=function(){e("body").css({margin:0,overflow:"hidden"});P.el.css({height:d});s.css({width:D*y,left:-D});if(P.options.scrollable)return r.each(function(){if(e(".scrollable",this).length)return;e(this).wrapInner('<div class="scrollable" />');return e(this).find("img").not("."+P.options.classes.preserve).insertBefore(e(".scrollable",this))})};N=function(){if(r.is("img")){r.wrap("<div>");r=i.children()}i.children().css({display:"none",position:"absolute",overflow:"hidden",top:0,left:D,zIndex:0});return c(r)};M=function(){return P.size()>1?e("."+P.options.classes.nav).show():e("."+P.options.classes.nav).hide()};A=function(){return e("."+P.options.classes.nav+" a").each(function(){return e(this).hasClass("next")?this.hash=O.next:this.hash=O.prev})};f=function(t){t>=0||(t=P.size()-1);return o.append(e("<a>",{href:"#"+t,"class":P.current===o.children().length?"current":void 0}))};a=function(){var n,r;if(!P.options.pagination||P.size()===1)return;if(e(t).find("."+P.options.classes.pagination).length){r=o.children().last().index()+1;n=i.children();n=n.slice(r)}else{r=0;n=new Array(P.size()-r);o=o.appendTo(P.el)}return e.each(n,function(e){return f(e+r)})};g=function(t,n){return e("<img>",{src:""+t.attr("src")+"?"+(new Date).getTime()}).load(function(){if(typeof n=="function")return n(this)})};T=function(e){var t;t=D/e.data("aspect-ratio");return t>=d?e.css({top:-(t-d)/2}):e.css({top:0})};x=function(e){var t;t=d*e.data("aspect-ratio");return t>=D?e.css({left:-(t-D)/2}):e.css({left:0})};l=function(e){if(!e.data("aspect-ratio")){g(e,function(t){e.removeAttr("width").removeAttr("height");e.data("aspect-ratio",t.width/t.height);return l(e)});return}D/d>=e.data("aspect-ratio")?e.css({height:"auto",width:"100%"}):e.css({height:"100%",width:"auto"});x(e);return T(e)};c=function(t){return t.each(function(t){e(this).width(D).height(d);e(this).css({left:D});return l(e("img",this).not("."+O.options.classes.preserve))})};p=function(){return P.size()===1?1:3};b=function(){var e;e=P.current+1;e===P.size()&&(e=0);return e};S=function(){var e;e=P.current-1;e<0&&(e=P.size()-1);return e};_=function(e){switch(!0){case/next/.test(e):return b();case/prev/.test(e):return S();case/\d/.test(e):return e;default:return!1}};w=function(e){e==null&&(e=window.location.hash);e=e.replace(/^#/,"");if(e)return+e};E=function(e){e==null&&(e=-1);v&&P.current>=0&&e<0&&(e=P.current);P.current=e;P.next=b();P.prev=S();return!1};h=function(t,n){var u,a,f,l,c;c=_(t);if(c>P.size()-1)return;f=D*2;u=-f;a=P.current;if(t==="prev"||t<a){f=0;u=0}l=f;r.removeClass("current").eq(c).addClass("current").css({left:l,display:"block"});o.children().removeClass("current").eq(c).addClass("current");return s.animate({useTranslate3d:P.mobile,left:u},P.options.slide_speed,P.options.slide_easing,function(){E(c);if(P.size()>1){s.css({left:-D});r.eq(c).css({left:D,zIndex:2});a>=0&&r.eq(a).css({left:D,display:"none",zIndex:0})}P.options.hashchange&&(window.location.hash=P.current);typeof n=="function"&&n();A();P.animating=!1;if(v)return i.trigger("animated.slides");v=!0;e("body").css("overflow","visible");i.fadeIn("fast");return i.trigger("init.slides")})};this.$el=e(t);this.animate=function(e,t){e==null&&(e="next");if(P.animating)return;P.animating=!0;return h(e,t)};this.update=function(){r=i.children();c(r);N();L();r.eq(P.current).css({display:"block"});E(P.current);a();M();return i.trigger("updated.slides")};this.destroy=function(){return e(t).removeData()};this.size=function(){return i.children().length};this.stop=function(){clearInterval(P.play_id);delete P.play_id;return i.trigger("stopped.slides")};this.start=function(){N();P.options.hashchange&&u.trigger("hashchange");P.animate("next");if(P.options.play){P.play_id&&P.stop();P.play_id=setInterval(function(){return P.animate("next")},P.options.play)}return i.trigger("started.slides")};u.on("hashchange",function(e){var t;t=w();if(t>=0&&t!==P.current)return P.animate(t)}).on("resize",function(t){D=u.width();d=u.height();C();c(r);return e("body").css({overflow:"visible"})});e(document).on("click","."+this.options.classes.nav+" a",function(t){O.options.hashchange||t.preventDefault();O.stop();return e(this).hasClass("next")?O.animate("next"):O.animate("prev")}).on("click","."+this.options.classes.pagination+" a",function(e){var t;if(!O.options.hashchange){e.preventDefault();t=w(this.hash);return O.animate(t)}});return m()};e.fn[n]=function(r,i){var s;s=[];this.each(function(){var o,u,a;o=e(this);u=o.data(n);a=typeof r=="object"&&r;u||(s=o.data(n,u=new t(this,a)));if(typeof r=="string"){s=u[r];if(typeof s=="function")return s=s.call(this,i)}});return s}}).call(this);jQuery(document).ready(function(e){e.fn.offScreen=function(t){var n=e(this),r=e(window),i=r.scrollTop(),s=i+r.height(),o=n.offset().top-t,u=n.offset().top+n.height()+t;return{top:u<=i,bottom:o>=s}};var t=e(window),n=e(".module");n.each(function(t,n){var n=e(n);n.offScreen(150).bottom||n.addClass("already-visible")});t.on("scroll resize",function(t){n.each(function(t,n){var n=e(n);if(!n.offScreen(150).top&&!n.offScreen(150).bottom){n.removeClass("already-visible off-screen-top off-screen-bottom");n.addClass("come-in")}else n.offScreen(150).top?n.addClass("off-screen-top"):n.addClass("off-screen-bottom")})});t.trigger("scroll")});(function(e,t,n,r,i){var s=e(r),o="waypoint.reached",u=function(e,n){e.element.trigger(o,n);e.options.triggerOnce&&e.element[t]("destroy")},a=function(e,t){var n=t.waypoints.length-1;while(n>=0&&t.waypoints[n].element[0]!==e[0])n-=1;return n},f=[],l=function(t){e.extend(this,{element:e(t),oldScroll:0,waypoints:[],didScroll:!1,didResize:!1,doScroll:e.proxy(function(){var t=this.element.scrollTop(),r=t>this.oldScroll,i=this,s=e.grep(this.waypoints,function(e,n){return r?e.offset>i.oldScroll&&e.offset<=t:e.offset<=i.oldScroll&&e.offset>t}),o=s.length;(!this.oldScroll||!t)&&e[n]("refresh");this.oldScroll=t;if(!o)return;r||s.reverse();e.each(s,function(e,t){(t.options.continuous||e===o-1)&&u(t,[r?"down":"up"])})},this)});e(t).scroll(e.proxy(function(){if(!this.didScroll){this.didScroll=!0;r.setTimeout(e.proxy(function(){this.doScroll();this.didScroll=!1},this),e[n].settings.scrollThrottle)}},this)).resize(e.proxy(function(){if(!this.didResize){this.didResize=!0;r.setTimeout(e.proxy(function(){e[n]("refresh");this.didResize=!1},this),e[n].settings.resizeThrottle)}},this));s.load(e.proxy(function(){this.doScroll()},this))},c=function(t){var n=null;e.each(f,function(e,r){if(r.element[0]===t){n=r;return!1}});return n},h={init:function(r,i){this.each(function(){var s=e.fn[t].defaults.context,u,h=e(this);i&&i.context&&(s=i.context);e.isWindow(s)||(s=h.closest(s)[0]);u=c(s);if(!u){u=new l(s);f.push(u)}var p=a(h,u),d=p<0?e.fn[t].defaults:u.waypoints[p].options,v=e.extend({},d,i);v.offset=v.offset==="bottom-in-view"?function(){var t=e.isWindow(s)?e[n]("viewportHeight"):e(s).height();return t-e(this).outerHeight()}:v.offset;p<0?u.waypoints.push({element:h,offset:null,options:v}):u.waypoints[p].options=v;r&&h.bind(o,r);i&&i.handler&&h.bind(o,i.handler)});e[n]("refresh");return this},remove:function(){return this.each(function(t,n){var r=e(n);e.each(f,function(e,t){var n=a(r,t);n>=0&&t.waypoints.splice(n,1)})})},destroy:function(){return this.unbind(o)[t]("remove")}},p={refresh:function(){e.each(f,function(t,r){var i=e.isWindow(r.element[0]),s=i?0:r.element.offset().top,o=i?e[n]("viewportHeight"):r.element.height(),a=i?0:r.element.scrollTop();e.each(r.waypoints,function(e,t){if(!t)return;var n=t.options.offset,i=t.offset;if(typeof t.options.offset=="function")n=t.options.offset.apply(t.element);else if(typeof t.options.offset=="string"){var f=parseFloat(t.options.offset);n=t.options.offset.indexOf("%")?Math.ceil(o*(f/100)):f}t.offset=t.element.offset().top-s+a-n;if(t.options.onlyOnScroll)return;i!==null&&r.oldScroll>i&&r.oldScroll<=t.offset?u(t,["up"]):i!==null&&r.oldScroll<i&&r.oldScroll>=t.offset?u(t,["down"]):!i&&a>t.offset&&u(t,["down"])});r.waypoints.sort(function(e,t){return e.offset-t.offset})})},viewportHeight:function(){return r.innerHeight?r.innerHeight:s.height()},aggregate:function(){var t=e();e.each(f,function(n,r){e.each(r.waypoints,function(e,n){t=t.add(n.element)})});return t}};e.fn[t]=function(n){if(h[n])return h[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="function"||!n)return h.init.apply(this,arguments);if(typeof n=="object")return h.init.apply(this,[null,n]);e.error("Method "+n+" does not exist on jQuery "+t)};e.fn[t].defaults={continuous:!0,offset:0,triggerOnce:!1,context:r};e[n]=function(e){return p[e]?p[e].apply(this):p.aggregate()};e[n].settings={resizeThrottle:200,scrollThrottle:100};s.load(function(){e[n]("refresh")})})(jQuery,"waypoint","waypoints",this);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},
easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(e){e.cycleThru={defaults:{delay:3e3}};e.fn.extend({cycleThru:function(t){var t=e.extend({},e.cycleThru.defaults,t);return this.each(function(){function o(){e("ul#"+r+" li:eq("+i+")").animate({opacity:"1"},400).animate({opacity:"1"},n).animate({opacity:"0"},400,function(){i==s?i=0:i++;o()})}var n=t.delay,r=e(this).attr("id"),i=0,s=e(this).children("li").length-1;o()})}})})(jQuery);(function(e){function t(t,n){return parseInt(e.css(t[0],n))||0}function n(e){return e[0].offsetWidth+t(e,"marginLeft")+t(e,"marginRight")}function r(e){return e[0].offsetHeight+t(e,"marginTop")+t(e,"marginBottom")}e.fn.jCarouselLite=function(t){t=e.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:!1,auto:null,speed:200,easing:null,vertical:!1,circular:!0,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},t||{});return this.each(function(){function b(){return p.slice(v).slice(0,h)}function w(n){if(!i){t.beforeStart&&t.beforeStart.call(this,b());if(t.circular)if(n<=t.start-h-1){f.css(s,-((d-h*2)*m)+"px");v=n==t.start-h-1?d-h*2-1:d-h*2-t.scroll}else if(n>=d-h+1){f.css(s,-(h*m)+"px");v=n==d-h+1?h+1:h+t.scroll}else v=n;else{if(n<0||n>d-h)return;v=n}i=!0;f.animate(s=="left"?{left:-(v*m)}:{top:-(v*m)},t.speed,t.easing,function(){t.afterEnd&&t.afterEnd.call(this,b());i=!1});if(!t.circular){e(t.btnPrev+","+t.btnNext).removeClass("disabled");e(v-t.scroll<0&&t.btnPrev||v+t.scroll>d-h&&t.btnNext||[]).addClass("disabled")}}return!1}var i=!1,s=t.vertical?"top":"left",u=t.vertical?"height":"width",a=e(this),f=e("ul",a),l=e("li",f),c=l.size(),h=t.visible;if(t.circular){f.prepend(l.slice(c-h-1+1).clone()).append(l.slice(0,h).clone());t.start+=h}var p=e("li",f),d=p.size(),v=t.start;a.css("visibility","visible");p.css({overflow:"hidden","float":t.vertical?"none":"left"});f.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});a.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var m=t.vertical?r(p):n(p),g=m*d,y=m*h;p.css({width:p.width(),height:p.height()});f.css(u,g+"px").css(s,-(v*m));a.css(u,y+"px");t.btnPrev&&e(t.btnPrev).click(function(){return w(v-t.scroll)});t.btnNext&&e(t.btnNext).click(function(){return w(v+t.scroll)});t.btnGo&&e.each(t.btnGo,function(n,r){e(r).click(function(){return w(t.circular?t.visible+n:n)})});t.mouseWheel&&a.mousewheel&&a.mousewheel(function(e,n){return n>0?w(v-t.scroll):w(v+t.scroll)});t.auto&&setInterval(function(){w(v+t.scroll)},t.auto+t.speed)})}})(jQuery);(function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0};t.window=function(t){return e(window)._scrollable()};e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||r.compatMode=="BackCompat"?r.body:r.documentElement})};e.fn.scrollTo=function(r,i,s){if(typeof i=="object"){s=i;i=0}typeof s=="function"&&(s={onAfter:s});r=="max"&&(r=9e9);s=e.extend({},t.defaults,s);i=i||s.duration;s.queue=s.queue&&s.axis.length>1;s.queue&&(i/=2);s.offset=n(s.offset);s.over=n(s.over);return this._scrollable().each(function(){function d(e){u.animate(c,i,s.easing,e&&function(){e.call(this,r,s)})}if(r==null)return;var o=this,u=e(o),a=r,l,c={},p=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);if(!a.length)return;case"object":if(a.is||a.style)l=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),f="scroll"+r,v=o[f],m=t.max(o,n);if(l){c[f]=l[i]+(p?0:v-u.offset()[i]);if(s.margin){c[f]-=parseInt(a.css("margin"+r))||0;c[f]-=parseInt(a.css("border"+r+"Width"))||0}c[f]+=s.offset[i]||0;s.over[i]&&(c[f]+=a[n=="x"?"width":"height"]()*s.over[i])}else{var y=a[i];c[f]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*m:y}s.limit&&/^\d+$/.test(c[f])&&(c[f]=c[f]<=0?0:Math.min(c[f],m));if(!e&&s.queue){v!=c[f]&&d(s.onAfterFirst);delete c[f]}});d(s.onAfter)}).end()};t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}})(jQuery);(function(e,t,n,r){var i=function(r,i){this.elem=r;this.$elem=e(r);this.options=i;this.metadata=this.$elem.data("plugin-options");this.$nav=this.$elem.find("a");this.$win=e(t);this.sections={};this.didScroll=!1;this.$doc=e(n);this.docHeight=this.$doc.height()};i.prototype={defaults:{currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollOffset:0,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){var t=this;t.config=e.extend({},t.defaults,t.options,t.metadata);t.config.filter!==""&&(t.$nav=t.$nav.filter(t.config.filter));t.$nav.on("click.onePageNav",e.proxy(t.handleClick,t));t.getPositions();t.bindInterval();t.$win.on("resize.onePageNav",e.proxy(t.getPositions,t));return this},adjustNav:function(e,t){e.$elem.find("."+e.config.currentClass).removeClass(e.config.currentClass);t.addClass(e.config.currentClass)},bindInterval:function(){var e=this,t;e.$win.on("scroll.onePageNav",function(){e.didScroll=!0});e.t=setInterval(function(){t=e.$doc.height();if(e.didScroll){e.didScroll=!1;e.scrollChange()}if(t!==e.docHeight){e.docHeight=t;e.getPositions()}},250)},getHash:function(e){return e.attr("href").split("#")[1]},getPositions:function(){var t=this,n,r;t.$nav.each(function(){n=t.getHash(e(this));r=e("#"+n).offset().top;t.sections[n]=Math.round(r)-t.config.scrollOffset})},getSection:function(e){var t=null,n=Math.round(this.$win.height()*this.config.scrollThreshold);for(var r in this.sections)this.sections[r]-n<e&&(t=r);return t},handleClick:function(n){var r=this,i=e(n.currentTarget),s=i.parent(),o="#"+r.getHash(i);if(!s.hasClass(r.config.currentClass)){r.config.begin&&r.config.begin();r.adjustNav(r,s);r.unbindInterval();e.scrollTo(o,r.config.scrollSpeed,{axis:"y",easing:r.config.easing,offset:{top:-r.config.scrollOffset},onAfter:function(){r.config.changeHash&&(t.location.hash=o);r.bindInterval();r.config.end&&r.config.end()}})}n.preventDefault()},scrollChange:function(){var e=this.$win.scrollTop(),t=this.getSection(e),n;if(t!==null){n=this.$elem.find('a[href$="#'+t+'"]').parent();if(!n.hasClass(this.config.currentClass)){this.adjustNav(this,n);this.config.scrollChange&&this.config.scrollChange(n)}}},unbindInterval:function(){clearInterval(this.t);this.$win.unbind("scroll.onePageNav")}};i.defaults=i.prototype.defaults;e.fn.onePageNav=function(e){return this.each(function(){(new i(this,e)).init()})}})(jQuery,window,document);